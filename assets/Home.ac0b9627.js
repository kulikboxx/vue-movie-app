import{_ as j}from"./BaseImage.5cbded4f.js";import{d as U,P as Q,b as E,B as Y,v as g,e as Z,C as ee,o as z,c as A,a as L,F as se,q as te,r as G,g as M,h as R,D as o,n as ae,_ as oe,J as ne,i as t,w as s,m as F,K as i,t as r,L as v,M as re,R as le,N as ie,s as ue,O as ce}from"./index.5cbdb7fd.js";import{t as J,s as N,_ as pe,a as _e}from"./BaseCaption.9c08d2cd.js";import{_ as de}from"./BaseBadge.91fe9d5a.js";import{_ as fe,g as H}from"./get-random-number.be1d43ec.js";const ve={class:"base-carousel__line"},be={class:"base-carousel__actions"},he=U({__name:"BaseCarousel",props:{breakpoints:{default:()=>({200:{itemsPerView:1}})},items:{default:()=>[]},itemsPerView:{default:1},loopDuration:{default:6e3},spaceBetween:{default:0},transitionDuration:{default:1200},timing:{default:"ease"}},setup(O){const u=O;Q(a=>({"8880bbb2":l.lineShift,"89bfe2c6":l.itemsGap,"613f173c":l.transition,fa3a4d06:l.shiftX,b13298a8:l.itemWidth}));const $=E(),w=E(!1),y=E(),l=Y({currentItem:0,itemWidth:"",itemsGap:`${u.spaceBetween}px`,lineShift:"",minItemWidth:200,shiftX:"",transition:"",touchStart:0,whiteSpaces:0,visibleItems:1}),T=g(()=>{const a=[];for(const n in u.breakpoints)a.push({breakpoint:+n,visibleItems:u.breakpoints[n].itemsPerView});return a}),d=g(()=>T.value[T.value.length-1]),S=g(()=>[...u.items.slice(-d.value.visibleItems),...u.items,...u.items.slice(0,d.value.visibleItems)]);function I(a){const n=T.value,c=window.innerWidth;for(let h=0;h<n.length;h++)c<d.value.breakpoint&&c>=n[h].breakpoint&&c<=n[h+1].breakpoint?l.visibleItems=n[h].visibleItems:c>=d.value.breakpoint&&(l.visibleItems=d.value.visibleItems);k(a)}function k(a){l.whiteSpaces=parseFloat(l.itemsGap)*(l.visibleItems-1),f(a)}function f(a){l.itemWidth=(a-l.whiteSpaces)/l.visibleItems+"px",P()}function P(){l.lineShift=-(parseFloat(l.itemWidth)+u.spaceBetween)*d.value.visibleItems+"px",V(_)}function _(a=0){const n=l.currentItem+=a;b(!0),l.shiftX=n*parseFloat(l.itemWidth)+n*u.spaceBetween+"px"}function p(a=!0){l.transition=a?`transform ${u.transitionDuration}ms ${u.timing}`:"none"}function V(a){p(!1),a(),setTimeout(()=>p(!0))}function C(a){w.value=a}function X(){const a=parseFloat(l.itemWidth)+u.spaceBetween,n=parseFloat(l.shiftX)<=-(a*u.items.length),c=parseFloat(l.shiftX)>=a*u.itemsPerView;(n||c)&&V(()=>{l.shiftX=n?"0px":`${-(u.items.length-u.itemsPerView)*a}px`,l.currentItem=n?0:-(u.items.length-u.itemsPerView)})}function b(a){clearInterval(y.value),a&&(y.value=setInterval(D,u.loopDuration))}function B(a){let n=0;a.type==="touchstart"?l.touchStart=a.touches[0].clientX:n=a.changedTouches[0].clientX,l.touchStart&&n&&_(l.touchStart-n<0?1:-1)}function x(a){a.key==="ArrowLeft"&&_(1),a.key==="ArrowRight"&&_(-1)}function D(){_(-1)}const W=new ResizeObserver(a=>{a.forEach(n=>{I(n.contentBoxSize[0].inlineSize)})});return Z(()=>{p(!0),b(!0),$.value&&W.observe($.value),document.addEventListener("keydown",x)}),ee(()=>{$.value&&W.unobserve($.value),b(!1),document.removeEventListener("keydown",x)}),(a,n)=>(z(),A("div",{class:ae(["base-carousel",{"base-carousel--disabled":w.value}]),ref_key:"baseCarouselRef",ref:$,onTransitionstart:n[4]||(n[4]=c=>C(!0)),onTransitionend:n[5]||(n[5]=c=>(C(!1),X()))},[L("div",ve,[L("ul",{class:"base-carousel__wrapper",onTouchstart:n[0]||(n[0]=c=>B(c)),onTouchend:n[1]||(n[1]=c=>B(c))},[(z(!0),A(se,null,te(o(S),(c,h)=>(z(),A("li",{key:h,class:"base-carousel__item"},[G(a.$slots,"baseCarouselItem",M(R({item:c})))]))),128))],32)]),L("div",be,[L("div",{class:"base-carousel__prev",onClick:n[2]||(n[2]=c=>_(1))},[G(a.$slots,"baseCarouselPrev")]),L("div",{class:"base-carousel__next",onClick:n[3]||(n[3]=c=>_(-1))},[G(a.$slots,"baseCarouselNext")])])],34))}});const me={class:"home-page"},ge=U({__name:"Home",setup(O){const u=ne(),$={250:{itemsPerView:1},500:{itemsPerView:2},750:{itemsPerView:3},1e3:{itemsPerView:4},1200:{itemsPerView:5}},w=g(()=>u.getMoviesList),y=g(()=>u.getTVShowsList),l=g(()=>w.value.slice(0,20)),T=g(()=>y.value.slice(0,20)),d=g(()=>w.value[H(0,w.value.length-1)]),S=g(()=>w.value[H(0,w.value.length-1)]),I=g(()=>y.value[H(0,y.value.length-1)]);return(k,f)=>{var a,n,c,h,K,q;const P=re,_=le,p=ie,V=fe,C=ue,X=pe,b=de,B=_e,x=he,D=ce,W=j;return z(),A("article",me,[t(V,M(R({alt:(a=o(d))==null?void 0:a.title,src:(n=o(d))==null?void 0:n.backdrop_lg})),{default:s(()=>[t(P,{type:"h1"},{default:s(()=>{var e;return[i(r((e=o(d))==null?void 0:e.title),1)]}),_:1}),t(_,null,{default:s(()=>{var e;return[i(r((e=o(d))==null?void 0:e.overview),1)]}),_:1}),t(p,{color:"danger",onClick:f[0]||(f[0]=e=>{var m;return k.$router.push({name:"movie",params:{id:(m=o(d))==null?void 0:m.id}})})},{default:s(()=>[i(r(o(v).details),1)]),_:1})]),_:1},16),t(W,{class:"home-page__section"},{default:s(()=>[t(D,null,{default:s(()=>[t(X,{class:"home-page__caption"},{baseCaptionSuffix:s(()=>[t(p,{color:"inherit",text:"",onClick:f[1]||(f[1]=e=>k.$router.push({name:"movies"}))},{default:s(()=>{var e;return[i(" ("+r((e=o(w))==null?void 0:e.length)+") "+r(o(v).showAll)+" ",1),t(C,{name:"arrow-right"})]}),_:1})]),default:s(()=>{var e;return[i(r(o(v).popularMovies)+" ("+r((e=o(l))==null?void 0:e.length)+") ",1)]}),_:1}),t(x,F({breakpoints:$,items:o(l),itemsPerView:5,spaceBetween:10},{class:"home-page__carousel"}),{baseCarouselItem:s(({item:e})=>[t(B,M(R({alt:e==null?void 0:e.title,src:e==null?void 0:e.backdrop_md})),{baseCardTop:s(()=>[t(b,{color:"danger"},{default:s(()=>[i(r(o(J)(e==null?void 0:e.original_language)),1)]),_:2},1024),t(b,{color:"success"},{default:s(()=>[i(r(e==null?void 0:e.vote_average),1)]),_:2},1024)]),baseCardActions:s(()=>[t(p,{color:"primary",onClick:m=>k.$router.push({name:"movie",params:{id:e==null?void 0:e.id}})},{default:s(()=>[i(r(o(v).details),1)]),_:2},1032,["onClick"])]),default:s(()=>[t(P,{type:"h3"},{default:s(()=>[i(r(o(N)(e==null?void 0:e.title,22,!1)),1)]),_:2},1024),t(b,{color:"secondary"},{default:s(()=>[i(r(o(v).release)+": "+r(e==null?void 0:e.release_date),1)]),_:2},1024),t(_,{size:"sm"},{default:s(()=>[i(r(o(N)(e==null?void 0:e.overview,150,!0)),1)]),_:2},1024)]),_:2},1040)]),baseCarouselPrev:s(()=>[t(p,{color:"secondary"},{default:s(()=>[t(C,{name:"arrow-left"})]),_:1})]),baseCarouselNext:s(()=>[t(p,{color:"secondary"},{default:s(()=>[t(C,{name:"arrow-right"})]),_:1})]),_:1},16)]),_:1})]),_:1}),t(V,F({alt:(c=o(I))==null?void 0:c.title,src:(h=o(I))==null?void 0:h.backdrop_lg},{position:"center"}),{default:s(()=>[t(P,{type:"h1"},{default:s(()=>{var e;return[i(r((e=o(I))==null?void 0:e.title),1)]}),_:1}),t(_,null,{default:s(()=>{var e;return[i(r((e=o(I))==null?void 0:e.overview),1)]}),_:1}),t(p,{color:"danger",onClick:f[2]||(f[2]=e=>{var m;return k.$router.push({name:"tv-show",params:{id:(m=o(I))==null?void 0:m.id}})})},{default:s(()=>[i(r(o(v).details),1)]),_:1})]),_:1},16),t(W,{class:"home-page__section"},{default:s(()=>[t(D,null,{default:s(()=>[t(X,{class:"home-page__caption"},{baseCaptionSuffix:s(()=>[t(p,{color:"inherit",text:"",onClick:f[3]||(f[3]=e=>k.$router.push({name:"tv-shows"}))},{default:s(()=>{var e;return[i(" ("+r((e=o(y))==null?void 0:e.length)+") "+r(o(v).showAll)+" ",1),t(C,{name:"arrow-right"})]}),_:1})]),default:s(()=>{var e;return[i(r(o(v).popularTvShows)+" ("+r((e=o(T))==null?void 0:e.length)+") ",1)]}),_:1}),t(x,F({breakpoints:$,items:o(T),itemsPerView:5,spaceBetween:10},{class:"home-page__carousel"}),{baseCarouselItem:s(({item:e})=>[t(B,M(R({alt:e==null?void 0:e.title,src:e==null?void 0:e.backdrop_md})),{baseCardTop:s(()=>[t(b,{color:"danger"},{default:s(()=>[i(r(o(J)(e==null?void 0:e.original_language)),1)]),_:2},1024),t(b,{color:"success"},{default:s(()=>[i(r(e==null?void 0:e.vote_average),1)]),_:2},1024)]),baseCardActions:s(()=>[t(p,{color:"primary",onClick:m=>k.$router.push({name:"tv-show",params:{id:e==null?void 0:e.id}})},{default:s(()=>[i(r(o(v).details),1)]),_:2},1032,["onClick"])]),default:s(()=>[t(P,{type:"h3"},{default:s(()=>[i(r(o(N)(e==null?void 0:e.title,20,!1)),1)]),_:2},1024),t(b,{color:"secondary"},{default:s(()=>[i(r(o(v).release)+": "+r(e==null?void 0:e.release_date),1)]),_:2},1024),t(_,{size:"sm"},{default:s(()=>[i(r(o(N)(e==null?void 0:e.overview,120,!0)),1)]),_:2},1024)]),_:2},1040)]),baseCarouselPrev:s(()=>[t(p,{color:"secondary"},{default:s(()=>[t(C,{name:"arrow-left"})]),_:1})]),baseCarouselNext:s(()=>[t(p,{color:"secondary"},{default:s(()=>[t(C,{name:"arrow-right"})]),_:1})]),_:1},16)]),_:1})]),_:1}),t(V,F({alt:(K=o(S))==null?void 0:K.title,src:(q=o(S))==null?void 0:q.backdrop_lg},{position:"right"}),{default:s(()=>[t(P,{type:"h1"},{default:s(()=>{var e;return[i(r((e=o(S))==null?void 0:e.title),1)]}),_:1}),t(_,null,{default:s(()=>{var e;return[i(r((e=o(S))==null?void 0:e.overview),1)]}),_:1}),t(p,{color:"danger",onClick:f[4]||(f[4]=e=>{var m;return k.$router.push({name:"movie",params:{id:(m=o(S))==null?void 0:m.id}})})},{default:s(()=>[i(r(o(v).details),1)]),_:1})]),_:1},16)])}}});var Se=oe(ge,[["__scopeId","data-v-45509e7a"]]);export{Se as default};
